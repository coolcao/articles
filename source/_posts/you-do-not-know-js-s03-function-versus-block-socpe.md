---
title: 学习笔记-你不知道的js-函数作用域和块作用域
date: 2016-11-13 22:17:14
tags: [js]
categories:
- 学习笔记
- 你不知道的js
---

## 函数中的作用域
每声明一个函数都会为其自身创建一个作用域。

<!--more-->

函数作用域的含义是指，属于这个函数的全部变量都可以在整个函数的范围内使用及复用（事实上在嵌套的作用域中也可以使用）。

## 隐藏内部实现
从所写的代码中挑选出一个任意的片段，然后用函数声明对他进行包装，实际上就是把这些代码“隐藏”起来了。
最小授权或最小暴露原则：应该最小限度的暴露必要内容，而将其他内容都“隐藏”起来，比如某个模块或对象的API设计。

### 避免冲突
“隐藏”作用域中的变量和函数所带来的另一个好处，是可以避免同名标识符之间的冲突，两个标识符可能具有相同的名字但用途却不一样，无意间可能造成命名冲突。
冲突会导致变量的值被意外覆盖。
#### 全局命名空间
当程序中加载了第三方库时，这些库通常会在全局作用域中声明一个名字足够独特的变量，通常是一个对象。这个对象被用作库的**命名空间**，所有需要暴露给外界的功能都会称为这个对象的属性。
#### 模块管理
另一个避免冲突的办法和现代的*模块*机制接近，从众多的模块管理器中挑选一个来使用。使用这些工具，任何库都无需将标识符加入到全局作用域中，而是通过依赖管理器的机制将库的标识符显式的导入到另一个特定的作用域中。

### 函数作用域
在任意代码片段外部添包装加包装函数，可以将内部的变量和函数定义“隐藏”起来，外部作用域无法访问包装函数内部的任何内容。
但是它不并理想，首先必须声明一个函数名，这意味着这个名称本身“污染”了所在的作用域。其次必须显示的通过函数名调用这个函数才能运行其中的代码。
如果函数不需要函数名就能够自动运行，这将会更加理想。
 